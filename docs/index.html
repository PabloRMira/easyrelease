---

title: easyrelease


keywords: fastai
sidebar: home_sidebar

summary: "Automate your GitHub, pypi and conda releases"
description: "Automate your GitHub, pypi and conda releases"
nb_path: "nbs/index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://pypi.org/project/easyrelease/#description"><img src="https://img.shields.io/pypi/v/easyrelease?color=yellow&amp;label=pypi%20version" alt="PyPI"></a>
<a href="https://anaconda.org/pablormira/easyrelease"><img src="https://anaconda.org/pablormira/easyrelease/badges/version.svg" alt="conda"></a>
<a href="https://anaconda.org/pablormira/easyrelease"><img src="https://anaconda.org/pablormira/easyrelease/badges/platforms.svg" alt="plattform"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-install">How to install<a class="anchor-link" href="#How-to-install"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Via pip</p>
<p><code>pip install easyrelease</code></p>
<p>or via conda</p>
<p><code>conda install easyrelease</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Packages-vs-Application">Packages vs Application<a class="anchor-link" href="#Packages-vs-Application"> </a></h2><p>We conceptually differentiate between two kind of projects:</p>
<ul>
<li>Packages: These are python projects you want to bundle for others to install via <code>pip</code> or <a href="/easyrelease/conda.html"><code>conda</code></a></li>
<li>Applications: These are python projects without packaging purposes like a web application. You can still use this package for this kind of projects in order to automate your release workflow</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prerequisites">Prerequisites<a class="anchor-link" href="#Prerequisites"> </a></h3><p>After installation you need the fulfill the following prerequisites for the package to work:</p>
<h4 id="Git-project">Git project<a class="anchor-link" href="#Git-project"> </a></h4><p>You need to initialize a git project in your project root folder for this package to work, i.e. run in your command line</p>
<p><code>git init</code></p>
<h4 id="GitHub-credentials">GitHub credentials<a class="anchor-link" href="#GitHub-credentials"> </a></h4><p>You need to store your GitHub credentials (GitHub username and token) in your project root for automatic GitHub releases. The credentials should be stored in a file called <code>.gh-credentials</code> with the following contents:</p>
<div class="highlight"><pre><span></span><span class="na">gh_user</span> <span class="o">=</span> <span class="s">Your GitHub username</span>
<span class="na">gh_token</span> <span class="o">=</span> <span class="s">Your GitHub token</span>
</pre></div>
<h4 id="Package-structure">Package structure<a class="anchor-link" href="#Package-structure"> </a></h4><blockquote><p>Only for python packages</p>
</blockquote>
<p>For this package to work you need to comply to the following minimal project structure for python packages</p>

<pre><code>package_name
|-- .git
|-- package_name
|   |-- __init__.py
|   |-- module1.py
|   |-- module2.py
|   |-- ...
|-- tests
|   |-- test_module1.py
|   |-- test_module2.py
|   |-- ...</code></pre>
<h4 id="Pypi-credentials">Pypi credentials<a class="anchor-link" href="#Pypi-credentials"> </a></h4><blockquote><p>Only for python packages</p>
</blockquote>
<p>To publish to Pypi you need to store your pypi credentials in a file with the name <code>.pypi-credentials</code> in your user root or project root directory. The file should include the following contents</p>
<div class="highlight"><pre><span></span><span class="na">username</span> <span class="o">=</span> <span class="s">Your Pypi username</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">Your Pypi password</span>
</pre></div>
<h4 id="Anaconda-credentials">Anaconda credentials<a class="anchor-link" href="#Anaconda-credentials"> </a></h4><blockquote><p>Only for python packages</p>
</blockquote>
<p>To publish to Anaconda you need to store your anaconda credentials in a file with the name <code>.anaconda-credentials</code> in your user root or project root directory. The file should include the following contents</p>
<div class="highlight"><pre><span></span><span class="na">username</span> <span class="o">=</span> <span class="s">Your Anaconda username</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">Your Anaconda password</span>
</pre></div>
<h4 id="CONDA_BLD_PATH">CONDA_BLD_PATH<a class="anchor-link" href="#CONDA_BLD_PATH"> </a></h4><blockquote><p>Only for Linux users and only in case of problems</p>
</blockquote>
<p>In case of problems concerning permission errors building your package via <code>build-conda-package</code> you may need to add the following line to your <code>~/.bashrc</code></p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CONDA_BLD_PATH</span><span class="o">=</span>/tmp/conda-bld
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Getting-started">Getting started<a class="anchor-link" href="#Getting-started"> </a></h3><h4 id="For-applications">For applications<a class="anchor-link" href="#For-applications"> </a></h4><p>Only once:</p>
<ol>
<li>Fulfill the <a href="#prerequisites">prerequisites</a></li>
<li>Run <code>easyrelease-init application</code></li>
<li>Edit your in the previous step generated file <code>settings.ini</code></li>
<li>Edit your in the previous step generated file <code>.gh-release-config.yaml</code></li>
</ol>
<p><code>.gh-release-config.yaml</code> sets the title and keyword that will be used to assign your commits to a certain section in your GitHub release notes and changelog. So if for example you want all commits to be in your release notes without keyword matching, you could modify <code>.gh-release-config.yaml</code> as</p>
<div class="highlight"><pre><span></span><span class="nt">gh_categories</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">title</span><span class="p">:</span> <span class="s">&quot;###</span><span class="nv"> </span><span class="s">Commits:&quot;</span>
    <span class="nt">keyword</span><span class="p">:</span> <span class="s">&quot;&quot;</span>
</pre></div>
<p>Each time you want to make a GitHub release:</p>
<ol>
<li>Run <code>gh-release</code> to make a GitHub release</li>
<li>Run <code>make-changelog</code> to generate / update your CHANGELOG</li>
</ol>
<h4 id="For-packages">For packages<a class="anchor-link" href="#For-packages"> </a></h4><p>Only once:</p>
<ol>
<li>Fulfill the <a href="#prerequisites">prerequisites</a></li>
<li>Run <code>easyrelease-init application</code></li>
<li>Edit your in the previous step generated file <code>settings.ini</code></li>
<li>Edit your in the previous step generated file <code>.gh-release-config.yaml</code></li>
<li>Run <code>login-to-anaconda</code></li>
</ol>
<p>Each time you want to release / publish your package:</p>
<ol>
<li>Run <code>publish-pypi-package</code> to publish to pypi</li>
<li>Run <code>update-meta-yaml</code> to generate / update your meta.yaml under conda-bld<ul>
<li>(Optionally recommended): Check your meta.yaml</li>
</ul>
</li>
<li>Run <code>build-conda-package</code> to build your conda package</li>
<li>Run <code>upload-conda-package</code> to publish your conda package</li>
<li>Run <code>gh-release</code> to make a GitHub release</li>
<li>Run <code>make-changelog</code> to generate / update your CHANGELOG</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Versioning">Versioning<a class="anchor-link" href="#Versioning"> </a></h2><p>We version our package via <a href="https://semver.org">semantic versioning</a>, i.e.,</p>
<ul>
<li>We use three digits separated by points x1.x2.x3, e.g. 0.5.1</li>
<li>We increase x1 (the major version) if we introduce breaking changes<ul>
<li>Exception: Versions with 0 at the beginning (e.g. 0.5.1) mean that the package is not stable yet and therefore every new feature could be a breaking change</li>
</ul>
</li>
<li>We increase x2 (the minor version) if we introduce a new feature</li>
<li>We increase x3 (the patch version) if we fix a bug</li>
</ul>
<p>New documentation, refactoring / maintenance of code and admin tasks do not change the versions.</p>
<p>You can follow the changes introduced by each version in our <a href="https://github.com/PabloRMira/easyrelease/blob/main/CHANGELOG.md">CHANGELOG</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Differences-to-fastrelease">Differences to <a href="https://github.com/fastai/fastrelease">fastrelease</a><a class="anchor-link" href="#Differences-to-fastrelease"> </a></h2><p>This package was inspired by the <a href="https://github.com/fastai/fastrelease">fastrelease</a> package but it differs from it in the way it generates the release notes.</p>
<p><code>easyrelease</code> generates the release notes out of the commit messages whereas <code>fastrelease</code> generates the release notes out of GitHub issues.</p>
<p>This package was also motivated by the fact that <code>fastrelease</code> did not work for me out of the box in my first attempt and I really liked the idea of automating releases and package publishing.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Compatibility-with-nbdev">Compatibility with <a href="https://github.com/fastai/nbdev">nbdev</a><a class="anchor-link" href="#Compatibility-with-nbdev"> </a></h2><p>This package was developed and is compatible with the <a href="https://github.com/fastai/nbdev">nbdev</a> framework but it also works for ordinary project development without notebooks.</p>
<p>In the case you want to develop your project with <code>nbdev</code> you need to first initialize your project via <code>nbdev</code> and afterwards run <code>easyrelease-init</code>. This is because the <code>settings.ini</code> we initialize for your project is a proper / strict subset of the <code>settings.ini</code> from <code>nbdev</code></p>

</div>
</div>
</div>
</div>
 

